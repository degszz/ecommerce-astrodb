---
import Layout from "@/layouts/Layout.astro";
import type { GetStaticPaths } from "astro";
import { getCollection } from "astro:content";
export const getStaticPaths = (async () => {
    const shirt = await getCollection("shirts");
    return shirt.map((post) => ({ params: { slug: post.slug }, props: post }));
}) satisfies GetStaticPaths;

export const prerender = true;

const {
    body,
    data: { image, title, price, size },
} = Astro.props;
---

<Layout title={title}>
    <div class="w-full h-custom--calc md:h-custom-calc flex justify-center">
        <div class="h-full w-full md:max-w-[1100px] flex flex-col md:flex-row mt-[51px] md:mt-[65px] ">
            <div class="w-full h-[60vh] md:h-custom-calc">
                <swiper-container
                    class="mySwiper w-full h-[80%] bg-black"
                    pagination="true"
                    pagination-clickable="true"
                    direction="vertical"
                    space-between="30"
                    mousewheel="true"
                >
                    <swiper-slide
                        ><img src={image} class="bg-black" /></swiper-slide
                    >
                    <swiper-slide
                        ><img src={image} class="bg-black" /></swiper-slide
                    >
                    <swiper-slide
                        ><img src={image} class="bg-black" /></swiper-slide
                    >
                </swiper-container>
            </div>
            <div class="py-[15px] w-full h-full  md:h-custom-calc text-white border-2 border-white md:border-0 md:border-l-2 ">
                <div class="w-full h-full flex flex-col justify-center items-center"
                >
                    <h2 class="text-3xl">
                        {title}
                    </h2>
                    <p class="text-orange-500">{price}</p>
                    <ul class=" flex justify-center ">
                    {size.map(()=>
                        <li class="border rounded-2xl p-2 m-2">
                            <p>{size}</p>
                        </li>
                    )} 
                    </ul>
                    <div>
                        <button class='bg-orange-300 hover:bg-orange-500 flex-row border-2 justify-center text-black cursor-pointer hover:bg-black-600 hover:text-white focus:ring-2 focus:outline-none focus:ring-black-300 font-medium mt-2 p-1.5 text-center inline-flex items-center dark:focus:ring-black-300 hover:shadow-lg transition-all duration-200 ease-in-out hover:scale-110 scale-90 gap-x-2 opacity-90 hover:opacity-100'>
                            Comprar
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</Layout>

<script
    src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"
></script>
<style>

    swiper-container {
        width: 100%;
        height: 100%;
    }

    swiper-slide {
        text-align: center;
        font-size: 18px;
        background: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    swiper-slide img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
</style>``